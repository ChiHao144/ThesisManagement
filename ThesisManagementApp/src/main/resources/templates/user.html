<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Quản lý người dùng</title>
    <th:context th:replace="base :: resources"></th:context>
</head>
<body>
    <div th:replace="base :: header"></div>

    <div class="container">
        <h1 class="text-center text-info mt-4 mb-4">QUẢN LÝ NGƯỜI DÙNG</h1>

        <form th:action="@{/user}" method="post" enctype="multipart/form-data" th:object="${user}">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="username" placeholder="Nhập username" name="username" th:field="*{username}">
                <label for="username">Username</label>
            </div>
            
            <div class="form-floating mb-3">
                <input type="password" class="form-control" id="password" placeholder="Nhập password" name="password" th:field="*{password}">
                <label for="password">Password</label>
            </div>

            <div class="form-floating mb-3">
                <select class="form-select" id="role" name="role" th:field="*{role}">
                    <option value="">-- Tất cả --</option>
                    <option value="admin">Quản trị viên</option>
                    <option value="giaovu">Giáo vụ</option>
                    <option value="giangvien">Giảng viên</option>
                    <option value="sinhvien">Sinh viên</option>
                </select>
                <label for="role">Vai trò</label>
            </div>

            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="fullname" placeholder="Nhập họ và tên" name="fullname" th:field="*{fullname}">
                <label for="fullname">Fullname</label>
            </div>
            
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="email" placeholder="Nhập email" name="email" th:field="*{email}">
                <label for="email">Email</label>
            </div>

            <div class="form-floating mb-3">
                <input type="file" class="form-control" id="avatar" name="avatar" th:field="*{file}">
                <label for="role">Ảnh đại diện</label>
            </div>
            
            <div class="form-floating mb-3" th:if="${user.avatar != null}">
                <img th:src="${user.avatar}" width="300" />
            </div>

            <div class="text-center">
                <input type="hidden" th:field="*{id}" />
                <input type="hidden" th:field="*{avatar}" />
                <button class="btn btn-success">
                    <span th:if="${user.id == null}">Thêm tài khoản</span>
                    <span th:if="${user.id != null}">Cập nhật tài khoản</span>
                </button>
            </div>
        </form>
    </div>
</body>
</html>
